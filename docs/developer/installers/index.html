<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.62.2"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=../../../favicons/favicon.ico><link rel=apple-touch-icon href=../../../favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=../../../favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=../../../favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=../../../favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=../../../favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=../../../favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=../../../favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=../../../favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=../../../favicons/android-192x192.png sizes=192x192><title>Installer Logic | BeatVortex</title><meta property="og:title" content="Installer Logic"><meta property="og:description" content="A deep dive into how BeatVortex handles the actual mod installation."><meta property="og:type" content="article"><meta property="og:url" content="/docs/developer/installers/"><meta property="og:site_name" content="BeatVortex"><meta itemprop=name content="Installer Logic"><meta itemprop=description content="A deep dive into how BeatVortex handles the actual mod installation."><meta itemprop=wordCount content="299"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Installer Logic"><meta name=twitter:description content="A deep dive into how BeatVortex handles the actual mod installation."><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-164841073-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><link rel=preload href=../../../scss/main.min.8646b32f53524906d776a3eb59b52967546c991639006fa2cc3010e0541fdafb.css as=style><link href=../../../scss/main.min.8646b32f53524906d776a3eb59b52967546c991639006fa2cc3010e0541fdafb.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><title>Installer Logic | BeatVortex</title></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=../../../><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">BeatVortex</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=../../../docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=../../../blog/><span>Updates</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=../../../offline-search-index.de2d030ab74e4b6b0082832a8f9907bfbe3c30a7bac423f3fc26a5fb9455ce59035f8414519b6ad8511aa8676a30331fddb2695a395d32a26834ed2508ab6c69.json data-offline-search-base-href=../../../></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=../../../offline-search-index.de2d030ab74e4b6b0082832a8f9907bfbe3c30a7bac423f3fc26a5fb9455ce59035f8414519b6ad8511aa8676a30331fddb2695a395d32a26834ed2508ab6c69.json data-offline-search-base-href=../../../>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav pt-2 pl-4" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show" id=docs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/introduction/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Introduction</a></li><ul><li class=collapse id=docsintroduction><a class="td-sidebar-link td-sidebar-link__page" id=m-docsintroductionfaq href=../../../docs/introduction/faq/>FAQ</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/usage/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Usage</a></li><ul><li class=collapse id=docsusage><a class="td-sidebar-link td-sidebar-link__page" id=m-docsusageinstallation href=../../../docs/usage/installation/>Installation</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsusagemods href=../../../docs/usage/mods/>Installing Mods</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsusageconfiguration href=../../../docs/usage/configuration/>Configuration</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsusageplaylists href=../../../docs/usage/playlists/>Playlists</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsusagemod-assistant href=../../../docs/usage/mod-assistant/>Switching from Mod Assistant</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/developer/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Development</a></li><ul><li class="collapse show" id=docsdeveloper><a class="td-sidebar-link td-sidebar-link__page" id=m-docsdevelopermeta href=../../../docs/developer/meta/>Vortex Metadata</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsdeveloperauthoring href=../../../docs/developer/authoring/>Packing Mods</a>
<a class="td-sidebar-link td-sidebar-link__page active" id=m-docsdeveloperinstallers href=../../../docs/developer/installers/>Installers</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsdeveloperdependencies href=../../../docs/developer/dependencies/>Dependencies</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsdevelopertranslation href=../../../docs/developer/translation/>Translation</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsdeveloperdocs href=../../../docs/developer/docs/>Documentation</a></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/agc93/beatvortex/edit/master/docs//content/en/docs/developer/installers.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/agc93/beatvortex/issues/new?title=Installer%20Logic" target=_blank><i class="fab fa-github fa-fw"></i>Create documentation issue</a></div><nav id=TableOfContents><ul><li><ul><li><a href=#background>Background</a></li><li><a href=#future-refactoring>Future Refactoring</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=../../../docs/>Documentation</a></li><li class=breadcrumb-item><a href=../../../docs/developer/>Development</a></li><li class="breadcrumb-item active" aria-current=page><a href=../../../docs/developer/installers/>Installers</a></li></ol></nav><div class=td-content><h1>Installer Logic</h1><div class=lead>A deep dive into how BeatVortex handles the actual mod installation.</div><div class="pageinfo pageinfo-primary"><p>The information below <strong>only</strong> applies to BeatVortex versions from 0.3 onwards. Installation logic was completely rebuilt in 0.3.0 (and again in 0.3.1).</p></div><p>BeatVortex's installation logic is <em>slightly</em> over-engineered in order to meet a few design goals:</p><ol><li>Handle different mod types invisibly</li><li>Abstract away the actual download source of a mod</li><li>Handle both installation and metadata in a Vortex-friendly way.</li></ol><h3 id=background>Background</h3><p>As of 0.3.1, BeatVortex registers three separate installers to handle each of the available mod types: BeatMods-style plugin mods, song maps (from BeatSaver or not), models (from ModelSaber or not). The plugin mod installer also serves as a fallback installer. Vortex is responsible for selecting the installer to use based on basic test conditions (<code>isSongMod</code> and <code>isModelMod</code> in particular).</p><p>One of the biggest conceptual changes is differentiating the mod type and the mod source. The mod type will control how BeatVortex creates install instructions, and varies for plugins, maps, models or generic files. The mod source will control how BeatVortex provides metadata about the mod and varies for the supported sources: BeatMods, BeatSaver/BeastSaber, and ModelSaber.</p><p>The <code>ModInstaller</code> interface is used by an installer implementation for a mod <em>type</em> and controls how install instructions are created from a given file list. The <code>MetadataSource</code> interface is a separate optional abstraction that can be used for a mod <em>source</em> to handle any install-time metadata, by returning <code>attribute</code> instructions to be combined with the original install instructions.</p><h3 id=future-refactoring>Future Refactoring</h3><p>This new system is a major rework and definitely not guaranteed stable. As it stands, BeatVortex still has a lot of touch points between Vortex, the extension, the installers and the metadata sources. Future releases will likely tweak the existing <code>ModInstaller</code>/<code>MetadataSource</code> layers to make things a little clearer and handle failures better. Raise a GitHub issue before doing any drastic work around mod installation.</p><div class="text-muted mt-5 pt-3 border-top">Last modified January 1, 0001</div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/agc93/beatvortex><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2020 BeatVortex Team All Rights Reserved</small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=../../../js/main.min.3587468abafd7ee678f61330f7c574ba0376f12451f11e076f2283f1e0504095.js integrity="sha256-NYdGirr9fuZ49hMw98V0ugN28SRR8R4HbyKD8eBQQJU=" crossorigin=anonymous></script></body></html>