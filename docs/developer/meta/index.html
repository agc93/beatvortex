<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.62.2"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=../../../favicons/favicon.ico><link rel=apple-touch-icon href=../../../favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=../../../favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=../../../favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=../../../favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=../../../favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=../../../favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=../../../favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=../../../favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=../../../favicons/android-192x192.png sizes=192x192><title>Metadata and Meta Servers | BeatVortex</title><meta property="og:title" content="Metadata and Meta Servers"><meta property="og:description" content="How BeatVortex handles mod metadata and some extra features."><meta property="og:type" content="article"><meta property="og:url" content="/docs/developer/meta/"><meta property="og:site_name" content="BeatVortex"><meta itemprop=name content="Metadata and Meta Servers"><meta itemprop=description content="How BeatVortex handles mod metadata and some extra features."><meta itemprop=wordCount content="589"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Metadata and Meta Servers"><meta name=twitter:description content="How BeatVortex handles mod metadata and some extra features."><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-164841073-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><link rel=preload href=../../../scss/main.min.8646b32f53524906d776a3eb59b52967546c991639006fa2cc3010e0541fdafb.css as=style><link href=../../../scss/main.min.8646b32f53524906d776a3eb59b52967546c991639006fa2cc3010e0541fdafb.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><title>Metadata and Meta Servers | BeatVortex</title></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=../../../><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">BeatVortex</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=../../../docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=../../../blog/><span>Updates</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=../../../offline-search-index.6f50bb393ea1237ab83eb723875e102ac800902d361b6101ed80ce84b6fbba16c85961fa7d78c104193de1a48473fdc2af204cbd5382f3b91af53024143cab66.json data-offline-search-base-href=../../../></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=../../../offline-search-index.6f50bb393ea1237ab83eb723875e102ac800902d361b6101ed80ce84b6fbba16c85961fa7d78c104193de1a48473fdc2af204cbd5382f3b91af53024143cab66.json data-offline-search-base-href=../../../>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav pt-2 pl-4" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show" id=docs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/introduction/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Introduction</a></li><ul><li class=collapse id=docsintroduction><a class="td-sidebar-link td-sidebar-link__page" id=m-docsintroductionfaq href=../../../docs/introduction/faq/>FAQ</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/usage/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Usage</a></li><ul><li class=collapse id=docsusage><a class="td-sidebar-link td-sidebar-link__page" id=m-docsusageinstallation href=../../../docs/usage/installation/>Installation</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsusagemods href=../../../docs/usage/mods/>Installing Mods</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsusageconfiguration href=../../../docs/usage/configuration/>Configuration</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsusagebsipa href=../../../docs/usage/bsipa/>Beat Saber IPA (BSIPA)</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsusageplaylists href=../../../docs/usage/playlists/>Playlists</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsusagemod-assistant href=../../../docs/usage/mod-assistant/>Switching from Mod Assistant</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/developer/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Development</a></li><ul><li class="collapse show" id=docsdeveloper><a class="td-sidebar-link td-sidebar-link__page" id=m-docsdeveloperauthoring href=../../../docs/developer/authoring/>Packing Mods</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsdeveloperinstallers href=../../../docs/developer/installers/>Installers</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsdeveloperdependencies href=../../../docs/developer/dependencies/>Dependencies</a>
<a class="td-sidebar-link td-sidebar-link__page active" id=m-docsdevelopermeta href=../../../docs/developer/meta/>Vortex Metadata</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsdevelopertranslation href=../../../docs/developer/translation/>Translation</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsdeveloperdocs href=../../../docs/developer/docs/>Documentation</a></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/agc93/beatvortex/edit/master/docs//content/en/docs/developer/meta.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/agc93/beatvortex/issues/new?title=Metadata%20and%20Meta%20Servers" target=_blank><i class="fab fa-github fa-fw"></i>Create documentation issue</a></div><nav id=TableOfContents><ul><li><a href=#meta-servers>Meta Servers</a><ul><li></li></ul></li><li><a href=#beatvortex-metaserver>BeatVortex Metaserver</a></li><li><a href=#faq>FAQ</a><ul><li><a href=#what-information-does-the-metaserver-get>What information does the metaserver get?</a></li><li><a href=#can-i-run-my-own-metaserver>Can I run my own metaserver?</a></li><li><a href=#can-the-metaserver-be-turned-off>Can the metaserver be turned off?</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=../../../docs/>Documentation</a></li><li class=breadcrumb-item><a href=../../../docs/developer/>Development</a></li><li class="breadcrumb-item active" aria-current=page><a href=../../../docs/developer/meta/>Vortex Metadata</a></li></ol></nav><div class=td-content><h1>Metadata and Meta Servers</h1><div class=lead>How BeatVortex handles mod metadata and some extra features.</div><div class="pageinfo pageinfo-primary"><p>The information below is not necessary for just using Vortex to handle your mods. It is included below for transparency and for the interest of curious users.</p></div><p>There's a few extra moving parts needed in BeatVortex since we don't use Nexus Mods for hosting mods. The most important one of these is what Vortex calls a &ldquo;meta server&rdquo;. The extension automatically adds a special meta server to your Vortex configuration when it starts up.</p><h2 id=meta-servers>Meta Servers</h2><p>Metaservers are essentially a thin API used to retrieve mod-related metadata for a given <strong>file</strong>. That's an important distinction: metaservers are not used to find <em>or</em> download mods, they're used to get more information about a mod that the client already knows about.</p><p>The API for metaservers is part of the <a href=https://github.com/Nexus-Mods/modmeta-db>Nexus-Mods/modmeta-db</a> library, but the one used in BeatVortex has its own implementation</p><h4 id=example-dependencies>Example: Dependencies</h4><p>When you install a mod with BeatVortex (let's use ScoreSaber as an example), the extension will read information from BeatMods to determine its dependencies. Our extension (and therefore Vortex) now know that ScoreSaber needs a certain version of SongCore and BeatSaberMarkupLanguage. What it doesn't know is <strong>where to find them</strong>. Vortex then calls its configured meta servers to find out more information about &ldquo;SongCore&rdquo; and &ldquo;BeatSaberMarkupLanguage&rdquo;, and our server responds with all the information it can pull from BeatMods including the most important part: where to get those files.</p><h2 id=beatvortex-metaserver>BeatVortex Metaserver</h2><p>So with the background out of the way, what does this have to do with BeatVortex? Well, since we don't use Nexus, we depend on a metaserver for a lot of the metadata used during mod installation. Notably, we also rely on a metaserver for full dependency resolution (see above).</p><blockquote><p>BeatVortex still works just fine without the metaserver, but at reduced functionality. For example, Vortex will detect and warn about missing dependencies, but it can't automatically install them without the metaserver.</p></blockquote><p>So, to save every user having to run their own server (or running one locally out-of-process), we add a shared metaserver (<code>meta-beatvortex</code>) at startup. This metaserver gets queried by Vortex whenever a user installs a mod. We actually ignore the &ldquo;default&rdquo; query that Vortex uses, since BeatMods doesn't support it. If the server receives a query for a specific dependency though, the server will query the BeatMods API for a matching mod and return some basic info on the mod to Vortex.</p><h2 id=faq>FAQ</h2><h3 id=what-information-does-the-metaserver-get>What information does the metaserver get?</h3><p>The BeatVortex metaserver in particular responds to two queries: <code>by_key</code> and <code>by_name</code>. The <code>by_key</code> query is a single MD5 hash of a file currently being installed. We ignore these, since BeatMods doesn't support them. The <code>by_name</code> query is a simple API call with two parts: a name (like <code>SongCore</code>) and a version (like <code>^2.9.1</code>). The server won't see any other details from your installation or settings.</p><h3 id=can-i-run-my-own-metaserver>Can I run my own metaserver?</h3><p>Yes! The code our server uses is <a href=https://github.com/agc93/modmeta-relay>open source on GitHub</a> and easy enough to run on your own. Just run the server, add the BeatVortex plugin, then add its publicly accessible URL to your Vortex configuration.</p><h3 id=can-the-metaserver-be-turned-off>Can the metaserver be turned off?</h3><p>Yes, but you probably shouldn't. Unless you're testing your own server or something, it's best to leave it enabled. Disabling the metaserver will immediately remove the server from Vortex's configuration meaning anything that depends on a metaserver will stop working. Most notably, dependencies won't automatically be downloaded/installed anymore!</p><blockquote><p>There was also a bug in Vortex versions prior to 1.12.3 where disabling metaservers didn't actually remove them which could cause problems during install.</p></blockquote><div class="text-muted mt-5 pt-3 border-top">Last modified January 1, 0001</div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/agc93/beatvortex><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2020 BeatVortex Team All Rights Reserved</small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=../../../js/main.min.3587468abafd7ee678f61330f7c574ba0376f12451f11e076f2283f1e0504095.js integrity="sha256-NYdGirr9fuZ49hMw98V0ugN28SRR8R4HbyKD8eBQQJU=" crossorigin=anonymous></script></body></html>