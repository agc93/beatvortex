<!doctype html><html lang=en class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.91.2">
<meta name=robots content="index, follow">
<link rel="shortcut icon" href=../../../favicons/favicon.ico>
<link rel=apple-touch-icon href=../../../favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=icon type=image/png href=../../../favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=../../../favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=../../../favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=../../../favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=../../../favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=../../../favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=../../../favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=../../../favicons/android-192x192.png sizes=192x192>
<title>Metadata and Meta Servers | BeatVortex</title>
<meta name=description content="How BeatVortex handles mod metadata and some extra features.
">
<meta property="og:title" content="Metadata and Meta Servers">
<meta property="og:description" content="How BeatVortex handles mod metadata and some extra features.
">
<meta property="og:type" content="article">
<meta property="og:url" content="/docs/developer/meta/"><meta property="article:section" content="docs">
<meta property="og:site_name" content="BeatVortex">
<meta itemprop=name content="Metadata and Meta Servers">
<meta itemprop=description content="How BeatVortex handles mod metadata and some extra features.
">
<meta itemprop=wordCount content="589">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="Metadata and Meta Servers">
<meta name=twitter:description content="How BeatVortex handles mod metadata and some extra features.
">
<link rel=preload href=../../../scss/main.min.704093cd1a56f37fd00dc35c7125fced09d88d60c92d59965b30c8c0eeef1cd5.css as=style>
<link href=../../../scss/main.min.704093cd1a56f37fd00dc35c7125fced09d88d60c92d59965b30c8c0eeef1cd5.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-164841073-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</head>
<body class=td-page>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class=navbar-brand href=../../../>
<span class=navbar-logo></span><span class=font-weight-bold>BeatVortex</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link active" href=../../../docs/><span class=active>Documentation</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=../../../blog/><span>Updates</span></a>
</li>
</ul>
</div>
<div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=../../../offline-search-index.1af650c4df94a112494c6a6e9cca3f31.json data-offline-search-base-href=../../../ data-offline-search-max-results=10>
</div>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
<div id=td-sidebar-menu class=td-sidebar__inner>
<form class="td-sidebar__search d-flex align-items-center">
<input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=../../../offline-search-index.1af650c4df94a112494c6a6e9cca3f31.json data-offline-search-base-href=../../../ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation">
</button>
</form>
<nav class="collapse td-sidebar-nav" id=td-section-nav>
<ul class="td-sidebar-nav__section pr-md-3 ul-0">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li>
<a href=../../../docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Documentation</span></a>
<ul class=ul-1>
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsintroduction-li>
<a href=../../../docs/introduction/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsintroduction><span>Introduction</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsintroductionfaq-li>
<a href=../../../docs/introduction/faq/ title="Frequently Asked Questions" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsintroductionfaq><span>FAQ</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsusage-li>
<a href=../../../docs/usage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsusage><span>Usage</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsusageinstallation-li>
<a href=../../../docs/usage/installation/ title="Installing BeatVortex" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsusageinstallation><span>Installation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsusagemods-li>
<a href=../../../docs/usage/mods/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsusagemods><span>Installing Mods</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsusageconfiguration-li>
<a href=../../../docs/usage/configuration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsusageconfiguration><span>Configuration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsusagebsipa-li>
<a href=../../../docs/usage/bsipa/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsusagebsipa><span>Beat Saber IPA (BSIPA)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsusageplaylists-li>
<a href=../../../docs/usage/playlists/ title="Installing Playlists" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsusageplaylists><span>Playlists</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsusagesync-li>
<a href=../../../docs/usage/sync/ title="Bookmark Sync" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsusagesync><span>Sync</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsusagemod-assistant-li>
<a href=../../../docs/usage/mod-assistant/ title="BeatVortex for Mod Assistant Users" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsusagemod-assistant><span>Switching from Mod Assistant</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsdeveloper-li>
<a href=../../../docs/developer/ title="Developer Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsdeveloper><span>Development</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeveloperauthoring-li>
<a href=../../../docs/developer/authoring/ title="Packaging for Mod Authors" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeveloperauthoring><span>Packing Mods</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeveloperinstallers-li>
<a href=../../../docs/developer/installers/ title="Installer Logic" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeveloperinstallers><span>Installers</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeveloperdependencies-li>
<a href=../../../docs/developer/dependencies/ title="Dependency Management" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeveloperdependencies><span>Dependencies</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docsdevelopermeta-li>
<a href=../../../docs/developer/meta/ title="Metadata and Meta Servers" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docsdevelopermeta><span class=td-sidebar-nav-active-item>Vortex Metadata</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdevelopertranslation-li>
<a href=../../../docs/developer/translation/ title="Translating BeatVortex" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevelopertranslation><span>Translation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeveloperdocs-li>
<a href=../../../docs/developer/docs/ title="Docs Contributions" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeveloperdocs><span>Documentation</span></a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</div>
</aside>
<aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
<a href=https://github.com/agc93/beatvortex/tree/master/docs//content/en/docs/developer/meta.md class=td-page-meta--view target=_blank rel=noopener><i class="fa fa-file-alt fa-fw"></i> View page source</a>
<a href=https://github.com/agc93/beatvortex/edit/master/docs//content/en/docs/developer/meta.md class=td-page-meta--edit target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/agc93/beatvortex/new/master/docs//content/en/docs/developer/meta.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class=td-page-meta--child target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/agc93/beatvortex/issues/new?title=Metadata%20and%20Meta%20Servers" class=td-page-meta--issue target=_blank rel=noopener><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
</div>
<div class=td-toc><nav id=TableOfContents>
<ul>
<li><a href=#meta-servers>Meta Servers</a>
<ul>
<li></li>
</ul>
</li>
<li><a href=#beatvortex-metaserver>BeatVortex Metaserver</a></li>
<li><a href=#faq>FAQ</a>
<ul>
<li><a href=#what-information-does-the-metaserver-get>What information does the metaserver get?</a></li>
<li><a href=#can-i-run-my-own-metaserver>Can I run my own metaserver?</a></li>
<li><a href=#can-the-metaserver-be-turned-off>Can the metaserver be turned off?</a></li>
</ul>
</li>
</ul>
</nav></div>
</aside>
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<nav aria-label=breadcrumb class=td-breadcrumbs>
<ol class=breadcrumb>
<li class=breadcrumb-item>
<a href=../../../docs/>Documentation</a>
</li>
<li class=breadcrumb-item>
<a href=../../../docs/developer/>Development</a>
</li>
<li class="breadcrumb-item active" aria-current=page>
<a href=../../../docs/developer/meta/>Vortex Metadata</a>
</li>
</ol>
</nav>
<div class=td-content>
<h1>Metadata and Meta Servers</h1>
<div class=lead>How BeatVortex handles mod metadata and some extra features.</div>
<header class=article-meta>
</header>
<div class="pageinfo pageinfo-primary">
<p>The information below is not necessary for just using Vortex to handle your mods. It is included below for transparency and for the interest of curious users.</p>
</div>
<p>There&rsquo;s a few extra moving parts needed in BeatVortex since we don&rsquo;t use Nexus Mods for hosting mods. The most important one of these is what Vortex calls a &ldquo;meta server&rdquo;. The extension automatically adds a special meta server to your Vortex configuration when it starts up.</p>
<h2 id=meta-servers>Meta Servers</h2>
<p>Metaservers are essentially a thin API used to retrieve mod-related metadata for a given <strong>file</strong>. That&rsquo;s an important distinction: metaservers are not used to find <em>or</em> download mods, they&rsquo;re used to get more information about a mod that the client already knows about.</p>
<p>The API for metaservers is part of the <a href=https://github.com/Nexus-Mods/modmeta-db>Nexus-Mods/modmeta-db</a> library, but the one used in BeatVortex has its own implementation</p>
<h4 id=example-dependencies>Example: Dependencies</h4>
<p>When you install a mod with BeatVortex (let&rsquo;s use ScoreSaber as an example), the extension will read information from BeatMods to determine its dependencies. Our extension (and therefore Vortex) now know that ScoreSaber needs a certain version of SongCore and BeatSaberMarkupLanguage. What it doesn&rsquo;t know is <strong>where to find them</strong>. Vortex then calls its configured meta servers to find out more information about &ldquo;SongCore&rdquo; and &ldquo;BeatSaberMarkupLanguage&rdquo;, and our server responds with all the information it can pull from BeatMods including the most important part: where to get those files.</p>
<h2 id=beatvortex-metaserver>BeatVortex Metaserver</h2>
<p>So with the background out of the way, what does this have to do with BeatVortex? Well, since we don&rsquo;t use Nexus, we depend on a metaserver for a lot of the metadata used during mod installation. Notably, we also rely on a metaserver for full dependency resolution (see above).</p>
<blockquote>
<p>BeatVortex still works just fine without the metaserver, but at reduced functionality. For example, Vortex will detect and warn about missing dependencies, but it can&rsquo;t automatically install them without the metaserver.</p>
</blockquote>
<p>So, to save every user having to run their own server (or running one locally out-of-process), we add a shared metaserver (<code>meta-beatvortex</code>) at startup. This metaserver gets queried by Vortex whenever a user installs a mod. We actually ignore the &ldquo;default&rdquo; query that Vortex uses, since BeatMods doesn&rsquo;t support it. If the server receives a query for a specific dependency though, the server will query the BeatMods API for a matching mod and return some basic info on the mod to Vortex.</p>
<h2 id=faq>FAQ</h2>
<h3 id=what-information-does-the-metaserver-get>What information does the metaserver get?</h3>
<p>The BeatVortex metaserver in particular responds to two queries: <code>by_key</code> and <code>by_name</code>. The <code>by_key</code> query is a single MD5 hash of a file currently being installed. We ignore these, since BeatMods doesn&rsquo;t support them. The <code>by_name</code> query is a simple API call with two parts: a name (like <code>SongCore</code>) and a version (like <code>^2.9.1</code>). The server won&rsquo;t see any other details from your installation or settings.</p>
<h3 id=can-i-run-my-own-metaserver>Can I run my own metaserver?</h3>
<p>Yes! The code our server uses is <a href=https://github.com/agc93/modmeta-relay>open source on GitHub</a> and easy enough to run on your own. Just run the server, add the BeatVortex plugin, then add its publicly accessible URL to your Vortex configuration.</p>
<h3 id=can-the-metaserver-be-turned-off>Can the metaserver be turned off?</h3>
<p>Yes, but you probably shouldn&rsquo;t. Unless you&rsquo;re testing your own server or something, it&rsquo;s best to leave it enabled. Disabling the metaserver will immediately remove the server from Vortex&rsquo;s configuration meaning anything that depends on a metaserver will stop working. Most notably, dependencies won&rsquo;t automatically be downloaded/installed anymore!</p>
<blockquote>
<p>There was also a bug in Vortex versions prior to 1.12.3 where disabling metaservers didn&rsquo;t actually remove them which could cause problems during install.</p>
</blockquote>
</div>
</main>
</div>
</div>
<footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
</div>
<div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank rel=noopener href=https://github.com/agc93/beatvortex aria-label=GitHub>
<i class="fab fa-github"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2022 BeatVortex Team All Rights Reserved</small>
</div>
</div>
</div>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=../../../js/tabpane-persist.js></script>
<script src=../../../js/main.min.8ab8f81ff7e1454d30024cd6f956d4d341c3a97e2a673f988065f2ee4e147922.js integrity="sha256-irj4H/fhRU0wAkzW+VbU00HDqX4qZz+YgGXy7k4UeSI=" crossorigin=anonymous></script>
</body>
</html>